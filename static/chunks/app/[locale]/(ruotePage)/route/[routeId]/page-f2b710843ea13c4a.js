(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4936],{8251:(e,t,n)=>{Promise.resolve().then(n.bind(n,5217)),Promise.resolve().then(n.bind(n,1396)),Promise.resolve().then(n.bind(n,1102)),Promise.resolve().then(n.bind(n,3401)),Promise.resolve().then(n.bind(n,8193)),Promise.resolve().then(n.bind(n,8379)),Promise.resolve().then(n.t.bind(n,7970,23))},5217:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var s=n(5155),o=n(2115);let l=e=>{let{title:t,content:n}=e,[l,a]=(0,o.useState)(!1);return(0,s.jsxs)("div",{className:"accordion-item mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between cursor-pointer p-4 rounded-t-md ".concat(l?"bg-[#F9AC1A] text-[#fff]":"bg-gray-200"),onClick:()=>a(!l),children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:t}),(0,s.jsx)("span",{className:"text-xl",children:l?"-":"+"})]}),(0,s.jsx)("div",{className:"\n                    accordion-content\n                    bg-gray-100\n                     rounded-b-md \n                     opacity-0\n                     transition-all \n                     duration-300 \n                     ease-in-out \n                     ".concat(l?"max-h-screen p-4 opacity-100":"max-h-0 overflow-hidden"),children:(0,s.jsx)("p",{children:n})})]})}},1396:(e,t,n)=>{"use strict";n.d(t,{default:()=>f});var s=n(5155),o=n(5712),l=n(6436),a=n(2615),r=n(6046),c=n(3519),i=n(5565),d=n(7266),u=n(6380),x=n(3463),m=n(2115);function p(e){let{children:t,defaultValue:n,label:l}=e,a=(0,o.rd)(),[c,i]=(0,m.useTransition)(),d=(0,o.a8)(),u=(0,r.useParams)();return(0,s.jsxs)("label",{className:(0,x.A)("relative text-gray-400",c&&"transition-opacity [&:disabled]:opacity-30"),children:[(0,s.jsx)("p",{className:"sr-only",children:l}),(0,s.jsx)("select",{className:"w-[120px] inline-flex appearance-none bg-transparent py-3 pl-2 pr-2",defaultValue:n,disabled:c,onChange:function(e){let t=e.target.value;i(()=>{a.replace({pathname:d,...u},{locale:t})})},children:t}),(0,s.jsx)("span",{className:"pointer-events-none absolute right-2 top-[8px]",children:"⌄"})]})}function h(){let e=(0,d.useTranslations)("LocaleSwitcher"),t=(0,d.useLocale)();return(0,s.jsx)(p,{defaultValue:t,label:e("label"),children:u.D.locales.map(t=>(0,s.jsx)("option",{value:t,children:e("locale",{locale:t})},t))})}function f(){var e;let t=(0,c.V)(),n=function(){let e=(0,r.useRouter)(),t=(0,l.n)({mutationFn:()=>(0,a.signOut)({callbackUrl:"/"}),onSuccess:async()=>{e.push("/")}});return{signOut:t.mutateAsync,isPending:t.isPending}}(),u=(0,d.useTranslations)("AppTraslation"),x=(0,d.useTranslations)("imagesAlt"),[p,f]=(0,m.useState)(!1);return(0,s.jsxs)("div",{className:"w-full h-[70px] bg-[#fff] flex lg:justify-center max-md:justify-between md:justify-between px-[15px] relative",children:[(0,s.jsx)(i.default,{className:"ml-4 mr-8",src:"/icons/header-icons/logo.svg",width:137,height:70,alt:x("HeaderComponent.logo")}),(0,s.jsxs)("div",{className:"max-w-[1070px] flex items-center justify-between max-md:hidden md:hidden lg:flex",children:[(0,s.jsx)("nav",{children:(0,s.jsxs)("ul",{className:"flex items-center",children:[(0,s.jsx)("li",{className:"mr-12 text-[#373F47]",children:(0,s.jsx)(o.N_,{href:"/",children:u("components.HeaderComponent.homeLink")})}),(0,s.jsx)("li",{className:"mr-12 text-[#373F47]",children:(0,s.jsx)(o.N_,{href:"/cities",children:u("components.HeaderComponent.citiesLink")})}),(0,s.jsx)("li",{className:"mr-12 text-[#373F47]",children:(0,s.jsx)(o.N_,{href:"/popular-routes",children:u("components.HeaderComponent.popularRoutesLink")})}),(null===(e=t.data)||void 0===e?void 0:e.user.role)==="ADMIN"&&(0,s.jsx)("li",{className:"mr-12 text-[#373F47]",children:(0,s.jsx)(o.N_,{href:"/admin-panel",children:"АП"})})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-10",children:[(0,s.jsxs)("div",{className:"flex justify-start items-center gap-5",children:[(0,s.jsx)(i.default,{src:"/icons/social-icons/wa.svg",width:40,height:40,alt:x("HeaderComponent.wa")}),(0,s.jsx)(i.default,{src:"/icons/social-icons/tg.svg",width:40,height:40,alt:x("HeaderComponent.telegram")}),(0,s.jsx)(i.default,{src:"/icons/social-icons/ig.svg",width:40,height:40,alt:x("HeaderComponent.ins")}),(0,s.jsx)(h,{})]}),"loading"===t.status&&(0,s.jsx)("div",{className:"bg-gray-200 animate-pulse px-9 py-3 rounded-[5px] w-[100px] h-[40px]"}),"unauthenticated"===t.status?(0,s.jsx)("div",{className:"bg-[#fff] text-[#373F47] border-[1px] border-[#DFE2E6] shadow-[0px_0px_2px_1px_rgba(55,63,71,0.05)] px-9 py-3 rounded-[5px] cursor-pointer",onClick:()=>(0,a.signIn)(),children:u("components.HeaderComponent.signIn")}):"authenticated"===t.status&&(0,s.jsx)("div",{className:"bg-[#fff] text-[#373F47] border-[1px] border-[#DFE2E6] shadow-[0px_0px_2px_1px_rgba(55,63,71,0.05)] px-9 py-3 rounded-[5px] cursor-pointer",onClick:()=>n.signOut(),children:u("components.HeaderComponent.signOut")})]})]}),(0,s.jsx)("button",{className:"lg:hidden text-gray-700",onClick:()=>f(!p),children:p?"✖":"☰"})]})}},1102:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});var s=n(5155),o=n(7266),l=n(5565),a=n(6046),r=n(2115),c=n(814);function i(){let[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),[x,m]=(0,r.useState)(""),[p,h]=(0,r.useState)(!1),[f,b]=(0,r.useState)(2),[g,v]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),[N,C]=(0,r.useState)([]),y=(0,r.useRef)(null),R=(0,r.useRef)(null),D=(0,r.useRef)(null),k=(0,a.useRouter)(),S=(0,o.useTranslations)("AppTraslation"),F=(0,o.useTranslations)("imagesAlt"),_=(0,o.useLocale)(),A=N.filter(e=>e.inRoute.toLowerCase().includes(d.toLowerCase())||e.city.toLowerCase().includes(d.toLowerCase())).reduce((e,t)=>(e.some(e=>e.inRoute===t.inRoute)||e.push(t),e),[]),P=N.filter(e=>e.inRoute===d),L=e=>{b(e),h(!1)},E=e=>{u(e),v(!1)},z=e=>{m(e),j(!1)};return(0,r.useEffect)(()=>{function e(e){y.current&&!y.current.contains(e.target)&&h(!1),R.current&&!R.current.contains(e.target)&&v(!1)}return async function(){try{let e=await fetch("".concat("http://localhost:3000/api","/my-routs/search-routs?locale=")+_);await e.json().then(e=>{C(e)})}catch(e){console.error("Ошибка загрузки маршрутов:",e)}}(),document.addEventListener("mousedown",e=>{y.current&&e.target instanceof Node&&!y.current.contains(e.target)&&h(!1),R.current&&e.target instanceof Node&&!R.current.contains(e.target)&&v(!1),D.current&&e.target instanceof Node&&!D.current.contains(e.target)&&j(!1)}),()=>document.removeEventListener("mousedown",e)},[]),(0,s.jsxs)("div",{className:"flex lg:flex-row md:flex-col max-md:flex-col w-full justify-center px-5 mb-[90px]",children:[(0,s.jsxs)("div",{className:"flex w-full max-md:flex-col",children:[(0,s.jsxs)("div",{className:"relative flex flex-col w-[46%] max-md:w-full h-[60px] z-10",ref:R,children:[(0,s.jsx)("span",{className:"max-md:hidden block absolute right-0 w-[2px] h-[80%] top-[10%] border-l-[2px] border-dashed border-[#D2D2D2]"}),(0,s.jsx)("label",{className:"absolute left-4 transition-all ".concat(e||d?"top-1 text-sm text-gray-500":"top-[25%] text-[20px] text-[#D2D2D2]"),htmlFor:"isWhereInput",children:S("components.SearchRouteComponent.labelFrom")}),(0,s.jsx)("input",{className:"focus:outline-none rounded-none text-[#373F47]   h-full w-full px-4 pt-5 pb-1 rounded-tl-[10px] lg:rounded-bl-[10px] md:rounded-bl-none max-md:rounded-t-lg",type:"text",id:"isWhereInput",value:d,onClick:()=>{v(!0)},onChange:e=>u(e.target.value),onFocus:()=>t(!0),onBlur:()=>t(!1),autoComplete:"off"}),g&&d&&A.length>0&&(0,s.jsx)("ul",{className:"absolute left-0 top-16 w-full mt-1 bg-white border rounded-l-lg shadow-md z-10",children:A.map((e,t)=>(0,s.jsxs)("li",{className:"relative px-4 py-2 cursor-pointer hover:bg-[#f9ab1a52] text-[#373F47] last:border-none",onClick:()=>{E(e.inRoute)},children:[e.inRoute,(0,s.jsxs)("p",{className:"text-[14px]",children:[e.inRoute,", ",e.city]}),(0,s.jsx)("span",{className:"block absolute bottom-0 w-[90%] h-[1px] border-b-[1px] border-[#D2D2D2]"})]},t))})]}),(0,s.jsx)("div",{className:"relative flex flex-col w-[8%] h-[60px] bg-[#fff] z-0 cursor-pointer max-md:w-full max-md:border-[1px] border-[#d2d2d264]",onClick:()=>{u(x),m(d)},children:(0,s.jsx)(l.default,{src:"/icons/main-search-icons/arrow-reverse.svg",width:30,height:30,alt:F("SearchRouteComponent.reverse"),className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})}),(0,s.jsxs)("div",{className:"relative flex flex-col w-[47%] max-md:w-full h-[60px] z-10",ref:D,children:[(0,s.jsx)("span",{className:"max-md:hidden block absolute left-0 w-[2px]    h-[80%] top-[10%] border-l-[2px] border-dashed border-[#D2D2D2] overflow-hidden"}),(0,s.jsx)("span",{className:"max-md:hidden block absolute right-0 w-[2px]    h-[80%] top-[10%] border-l-[2px] border-dashed border-[#D2D2D2] overflow-hidden"}),(0,s.jsx)("label",{className:"absolute left-4 transition-all ".concat(n||d?"top-1 text-sm text-gray-500":"top-[25%] text-[20px] text-[#D2D2D2]"),htmlFor:"inWhereInput",children:S("components.SearchRouteComponent.labelTo")}),(0,s.jsx)("input",{className:"focus:outline-none rounded-none   h-full w-full px-4 pt-5 pb-1 border-l-0 focus:border-l-0 lg:rounded-tr-none md:rounded-tr-[10px] text-[#373F47]",type:"text",id:"inWhereInput",value:x,onClick:()=>{j(!0)},onChange:e=>m(e.target.value),onFocus:()=>i(!0),onBlur:()=>i(!1),autoComplete:"off"}),w&&P.length>0&&(0,s.jsx)("ul",{className:"absolute left-0 top-16 w-full mt-1 bg-white border rounded-l-lg shadow-md z-10",children:P.map((e,t)=>(0,s.jsxs)("li",{className:"relative px-4 py-2 cursor-pointer hover:bg-[#f9ab1a52] text-[#373F47] last:border-none",onClick:()=>{z(e.toRoute)},children:[e.toRoute,(0,s.jsxs)("p",{className:"text-[14px]",children:[e.toRoute,", ",e.city]}),(0,s.jsx)("span",{className:"block absolute bottom-0 w-[90%] h-[1px] border-b-[1px] border-[#D2D2D2]"})]},t))})]})]}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("div",{className:"relative z-9 lg:w-auto md:w-[50%] max-md:w-1/2",ref:y,children:[(0,s.jsxs)("button",{className:"flex items-center gap-2 px-2 py-2 h-full lg:border-none lg:rounded-none md:rounded-t-none max-md:rounded-bl-lg md:rounded-bl-lg lg:w-[180px] md:w-full max-md:w-full bg-white",onClick:()=>h(!p),children:[(0,s.jsx)("svg",{className:"w-7 h-7 text-[#D2D2D2]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M13.55 2c-.139 0-.279-.047-.502-.163a8.99 8.99 0 01-.164-.088l-.004-.002a6.26 6.26 0 00-.69-.337c-.758-.3-1.756-.415-3.348.116a.5.5 0 00.316.948c1.408-.469 2.16-.334 2.664-.134.2.079.359.165.532.26.075.04.15.082.234.125.26.134.576.275.962.275.093 0 .155.011.194.023a.213.213 0 01.046.02.183.183 0 01.004.057c-.01.189-.178.577-.648 1.046A.5.5 0 0013 4.5c0 .375.013.582.026.782v.001c.012.19.024.373.024.717 0 .688-.085 1.144-.22 1.455a1.152 1.152 0 01-.559.6A.5.5 0 0012 8.5v1.158c0 .578.079 1.05.305 1.442.231.399.577.644.966.845.342.176.786.424 1.142.772.35.342.587.75.587 1.262V15.5a.5.5 0 001 0v-1.52c0-.863-.413-1.514-.888-1.978-.469-.458-1.026-.763-1.383-.947-.311-.16-.465-.295-.559-.457-.098-.17-.17-.438-.17-.94V8.78c.32-.223.57-.525.746-.925.214-.49.304-1.103.304-1.856 0-.375-.013-.582-.026-.782v-.001a9.523 9.523 0 01-.022-.518c.452-.493.766-1.042.791-1.55.015-.302-.075-.619-.334-.85-.247-.22-.576-.3-.909-.3z",clipRule:"evenodd"})}),(0,s.jsxs)("span",{className:"text-[#373F47]",children:[f," ",1===f?S("components.SearchRouteComponent.qtyOnePassengers"):f<5?S("components.SearchRouteComponent.qty5Passengers"):S("components.SearchRouteComponent.qtyAllPassengers")]}),(0,s.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(p?"rotate-180 text-[#F9AC1A]":"text-gray-600"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M12.854 6.146a.5.5 0 00-.708 0L8 10.293 3.854 6.146a.5.5 0 10-.708.708l4.5 4.5a.5.5 0 00.708 0l4.5-4.5a.5.5 0 000-.708z",clipRule:"evenodd"})})]}),p&&(0,s.jsx)("ul",{className:"absolute left-0 mt-2 w-48 bg-white border shadow-md z-10",children:[1,2,3,4,5,6].map(e=>(0,s.jsxs)("li",{className:"px-4 py-2 cursor-pointer hover:bg-[#f9ab1a52] text-[#373F47]",onClick:()=>L(e),children:[e," ",1===e?S("components.SearchRouteComponent.qtyOnePassengers"):S("components.SearchRouteComponent.qtyAllPassengers")]},e))})]}),(0,s.jsx)("button",{onClick:()=>{var e;let t=null===(e=N.find(e=>e.inRoute===d&&e.toRoute===x))||void 0===e?void 0:e.id;d&&x?t?k.push("".concat(_,"/route/").concat(t)):(0,c.o)(S("components.SearchRouteComponent.noFindRoute")):(0,c.o)(S("components.SearchRouteComponent.noCheckRoute"))},className:"text-[#fff] lg:w-[250px] md:w-1/2 text-base font-semibold px-4 py-5 max-h-[60px] h-full bg-[#F9AC1A] max-md:w-1/2 max-md:rounded-br-[10px] lg:rounded-r-[10px] md:rounded-r-none md:rounded-br-[10px]",children:S("components.SearchRouteComponent.button")})]})]})}},5712:(e,t,n)=>{"use strict";n.d(t,{N_:()=>l,a8:()=>r,rd:()=>c});var s=n(1182),o=n(6380);let{Link:l,redirect:a,usePathname:r,useRouter:c,getPathname:i}=(0,s.xp)(o.D)},6380:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});let s=(0,n(5433).o)({locales:["en","ru"],defaultLocale:"en"})},3519:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});let s=n(2615).useSession},8379:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});var s=n(7481),o=n(2115),l=n(7878);function a(e){let{locale:t,...n}=e;if(!t)throw Error("Failed to determine locale in `NextIntlClientProvider`, please provide the `locale` prop explicitly.\n\nSee https://next-intl.dev/docs/configuration#locale");return o.createElement(l.IntlProvider,(0,s._)({locale:t},n))}}},e=>{var t=t=>e(e.s=t);e.O(0,[5565,7266,8173,814,2615,3306,1579,8441,1517,7358],()=>t(8251)),_N_E=e.O()}]);