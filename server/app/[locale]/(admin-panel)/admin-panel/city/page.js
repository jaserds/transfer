(()=>{var e={};e.id=7216,e.ids=[7216],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},27178:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>i});var t=r(70260),s=r(28203),n=r(25155),l=r.n(n),o=r(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(a,d);let i=["",{children:["[locale]",{children:["(admin-panel)",{children:["admin-panel",{children:["city",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27862)),"C:\\Users\\TurckDrive-PC2\\Desktop\\transfer\\transfer\\app\\[locale]\\(admin-panel)\\admin-panel\\city\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,23641)),"C:\\Users\\TurckDrive-PC2\\Desktop\\transfer\\transfer\\app\\[locale]\\(admin-panel)\\admin-panel\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,95694)),"C:\\Users\\TurckDrive-PC2\\Desktop\\transfer\\transfer\\app\\[locale]\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\TurckDrive-PC2\\Desktop\\transfer\\transfer\\app\\[locale]\\(admin-panel)\\admin-panel\\city\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/[locale]/(admin-panel)/admin-panel/city/page",pathname:"/[locale]/admin-panel/city",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},20362:(e,a,r)=>{Promise.resolve().then(r.bind(r,27862))},83410:(e,a,r)=>{Promise.resolve().then(r.bind(r,67138))},67138:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>m});var t=r(45512),s=r(87021),n=r(25409),l=r(54069),o=r(5884),d=r(13393),i=r(1422),c=r(45103),p=r(58009);function m(){let[e,a]=(0,p.useState)([]),[r,m]=(0,p.useState)([]),[x,h]=(0,p.useState)(""),[u,f]=(0,p.useState)(""),[j,y]=(0,p.useState)(null),[b,w]=(0,p.useState)(null),[N,g]=(0,p.useState)(""),[v,C]=(0,p.useState)(!0),k=async()=>{if(!j)return null;let e=new FormData;e.append("file",j);try{let a=await fetch("http://localhost:3000/api/upload",{method:"POST",body:e});if(!a.ok)throw Error("Image upload failed");return(await a.json()).imageUrl}catch(e){return console.error(e),null}},A=async()=>{if(!e||!j||!b)return;let r=await k();if(r)try{let t=await fetch("http://localhost:3000/api/city",{method:"POST",body:JSON.stringify({name:x,nameEn:u,imageUrl:r,countryId:b}),headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to add country");let s=await t.json();a([...e,s]),h(""),f(""),y(null)}catch(e){console.error(e)}},P=async r=>{try{let t=await fetch(`http://localhost:3000/api/city/${r}`,{method:"DELETE"});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to delete country")}a(e.filter(e=>e.id!==r))}catch(e){console.error("Error deleting country:",e)}},E=e.filter(e=>{let a=r.find(a=>a.id===e.countryId),t=a?.name||"",s=e.name.toLowerCase(),n=N.toLowerCase();return s.includes(n)||t.toLowerCase().includes(n)});return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"mb-3 text-[#373F47] font-bold",children:"Добьавить город"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,t.jsx)(n.p,{value:x,onChange:e=>h(e.target.value),placeholder:"Название города"}),(0,t.jsx)(n.p,{value:u,onChange:e=>f(e.target.value),placeholder:"Название города En"}),(0,t.jsx)(n.p,{type:"file",onChange:e=>y(e.target.files?.[0]||null)}),(0,t.jsxs)(l.l6,{onValueChange:w,children:[(0,t.jsx)(l.bq,{className:"w-[180px]",children:(0,t.jsx)(l.yv,{placeholder:"Выбирите страну"})}),(0,t.jsx)(l.gC,{children:r.map(e=>(0,t.jsx)(l.eb,{value:e.id,children:e.name},e.id))})]}),(0,t.jsx)(s.$,{onClick:A,children:"Добавить"})]}),(0,t.jsx)("div",{className:"mt-10 mb-3 text-[#373F47] font-bold",children:"Поиск"}),(0,t.jsx)(n.p,{className:"mb-5",value:N,onChange:e=>g(e.target.value),placeholder:"Название города или страны"}),(0,t.jsxs)(d.XI,{children:[(0,t.jsx)(d.A0,{children:(0,t.jsxs)(d.Hj,{children:[(0,t.jsx)(d.nd,{children:"Название"}),(0,t.jsx)(d.nd,{children:"Картинка"}),(0,t.jsx)(d.nd,{children:"Страна"}),(0,t.jsx)(d.nd,{})]})}),(0,t.jsx)(d.BF,{children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Hj,{children:[(0,t.jsx)(d.nA,{children:(0,t.jsx)(o.E,{className:"h-[20px] w-[200px]"})}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(o.E,{className:"h-[50px] w-[50px]"})}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(o.E,{className:"h-[20px] w-[150px]"})}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(o.E,{className:"h-[20px] w-[20px]"})})]}),(0,t.jsxs)(d.Hj,{children:[(0,t.jsx)(d.nA,{children:(0,t.jsx)(o.E,{className:"h-[20px] w-[200px]"})}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(o.E,{className:"h-[50px] w-[50px]"})}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(o.E,{className:"h-[20px] w-[150px]"})}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(o.E,{className:"h-[20px] w-[20px]"})})]}),(0,t.jsxs)(d.Hj,{children:[(0,t.jsx)(d.nA,{children:(0,t.jsx)(o.E,{className:"h-[20px] w-[200px]"})}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(o.E,{className:"h-[50px] w-[50px]"})}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(o.E,{className:"h-[20px] w-[150px]"})}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(o.E,{className:"h-[20px] w-[20px]"})})]})]}):E.map(e=>(0,t.jsxs)(d.Hj,{children:[(0,t.jsx)(d.nA,{children:e.name}),(0,t.jsx)(d.nA,{children:e.imageUrl&&(0,t.jsx)(c.default,{src:e.imageUrl,width:100,height:100,alt:e.name,className:"object-contain rounded-md"})}),(0,t.jsx)(d.nA,{children:e.countryId&&r.find(a=>a.id===e.countryId)?.name}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(i.A,{onClick:()=>P(e.id),className:"cursor-pointer text-[#6C7C8C] hover:text-rose-500"})})]},e.id))})]})]})}},54069:(e,a,r)=>{"use strict";r.d(a,{bq:()=>m,eb:()=>f,gC:()=>u,l6:()=>c,yv:()=>p});var t=r(45512),s=r(58009),n=r(45274),l=r(7833),o=r(36624),d=r(24999),i=r(59462);let c=n.bL;n.YJ;let p=n.WT,m=s.forwardRef(({className:e,children:a,...r},s)=>(0,t.jsxs)(n.l9,{ref:s,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[a,(0,t.jsx)(n.In,{asChild:!0,children:(0,t.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=n.l9.displayName;let x=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)(n.PP,{ref:r,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,t.jsx)(o.A,{className:"h-4 w-4"})}));x.displayName=n.PP.displayName;let h=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)(n.wn,{ref:r,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,t.jsx)(l.A,{className:"h-4 w-4"})}));h.displayName=n.wn.displayName;let u=s.forwardRef(({className:e,children:a,position:r="popper",...s},l)=>(0,t.jsx)(n.ZL,{children:(0,t.jsxs)(n.UC,{ref:l,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[(0,t.jsx)(x,{}),(0,t.jsx)(n.LM,{className:(0,i.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,t.jsx)(h,{})]})}));u.displayName=n.UC.displayName,s.forwardRef(({className:e,...a},r)=>(0,t.jsx)(n.JU,{ref:r,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",e),...a})).displayName=n.JU.displayName;let f=s.forwardRef(({className:e,children:a,...r},s)=>(0,t.jsxs)(n.q7,{ref:s,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[(0,t.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(n.VF,{children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})}),(0,t.jsx)(n.p4,{children:a})]}));f.displayName=n.q7.displayName,s.forwardRef(({className:e,...a},r)=>(0,t.jsx)(n.wv,{ref:r,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=n.wv.displayName},13393:(e,a,r)=>{"use strict";r.d(a,{A0:()=>o,BF:()=>d,Hj:()=>i,XI:()=>l,nA:()=>p,nd:()=>c});var t=r(45512),s=r(58009),n=r(59462);let l=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:r,className:(0,n.cn)("w-full caption-bottom text-sm",e),...a})}));l.displayName="Table";let o=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("thead",{ref:r,className:(0,n.cn)("[&_tr]:border-b",e),...a}));o.displayName="TableHeader";let d=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("tbody",{ref:r,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...a}));d.displayName="TableBody",s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("tfoot",{ref:r,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let i=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("tr",{ref:r,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));i.displayName="TableRow";let c=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("th",{ref:r,className:(0,n.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a}));c.displayName="TableHead";let p=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("td",{ref:r,className:(0,n.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a}));p.displayName="TableCell",s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("caption",{ref:r,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption"},27862:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\TurckDrive-PC2\\\\Desktop\\\\transfer\\\\transfer\\\\app\\\\[locale]\\\\(admin-panel)\\\\admin-panel\\\\city\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\TurckDrive-PC2\\Desktop\\transfer\\transfer\\app\\[locale]\\(admin-panel)\\admin-panel\\city\\page.tsx","default")}};var a=require("../../../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[638,4512,8403,5153,4391,7237,2098,6512],()=>r(27178));module.exports=t})();